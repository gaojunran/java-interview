---
title: 045	MySQL 中 count(*)、count(1) 和 count(字段名) 有什么区别？
---

在 MySQL 中，`COUNT(*)`、`COUNT(1)` 和 `COUNT(字段名)` 都是用于统计记录数的方法，但它们的含义和行为在一些场景下是不同的。下面是它们的详细区别：

---

### ✅ 1. `COUNT(*)`

* **含义**：统计**所有行数**，包括 `NULL` 值的行。
* **效率**：通常是**最快的**，因为数据库会做专门的优化（比如使用元数据或索引统计）。
* **使用场景**：当你想知道表中到底有多少行时，**无论字段是否为 NULL**。

```sql
SELECT COUNT(*) FROM users;
```

---

### ✅ 2. `COUNT(1)`

* **含义**：统计查询结果中，表达式 `1` **不为 NULL** 的行数。
* 实际上 `1` 永远不是 `NULL`，所以**效果和 `COUNT(*)` 基本一致**。
* **优化器处理**：在 MySQL 中，`COUNT(1)` 会被优化为与 `COUNT(*)` 类似的执行计划。
* **区别**：语义上不同，但性能和结果在多数场景下是相同的。

```sql
SELECT COUNT(1) FROM users;
```

---

### ✅ 3. `COUNT(字段名)`

* **含义**：统计指定字段中**非 NULL 的行数**。
* **和前两个的最大区别是：会忽略值为 NULL 的行**。
* **使用场景**：当你只关心某个字段有值的记录数量时。

```sql
SELECT COUNT(email) FROM users;
```

如果有 1000 行数据，其中有 50 行 `email` 为 `NULL`，那么：

* `COUNT(*)` → 1000
* `COUNT(email)` → 950

---

### ✅ 总结对比

| 表达式          | 统计内容             | 是否忽略 NULL | 推荐使用场景         |
| ------------ | ---------------- | --------- | -------------- |
| `COUNT(*)`   | 所有行（包括 NULL）     | 否         | 统计总行数          |
| `COUNT(1)`   | 所有行（表达式恒为非 NULL） | 否         | 效果同 `COUNT(*)` |
| `COUNT(字段名)` | 指定字段不为 NULL 的行   | 是         | 统计某字段有值的行      |

---

### ✅ 小贴士

* 如果表上存在大量列且你只关心行数，不要用 `COUNT(列)`，**除非你真的需要排除 NULL**。
* `COUNT(*)` 是最安全、最语义明确的方式，通常是**首选**。

---

继续提问：https://chatgpt.com/share/6873c621-5bec-8010-88f7-aa83f44c24e1
